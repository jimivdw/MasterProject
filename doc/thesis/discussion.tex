\chapter{Analysis}
\chlab{discussion}

From the results obtained in the user studies, the hypotheses presented in \chref{approach} can be validated. This chapter contains that validation, along with a discussion of some threats to the validity of the experiment outcomes. Additionally, some suggestions for how \oframp{} can be improved in the future will be described.



\section{Hypotheses validation}
The first hypothesis that has been tested considers the time required to complete a parameterisatio. As discussed in \secref{res_time}, the producing version requires the least time per atom, and will therefore be the fastest to completely parameterise a molecule. With a total median time of under five minutes for parameterising all four molecules in the user study, it can also be considered to be fast in general. Time-wise, the producing version is therefore better than the consuming one, which is exactly as hypothesised.

Second, we can look at the accuracy of the resulting parameterisations of the different versions. The results presented in \secref{res_rating} show that the consuming version has the lowest overall charge difference for both the first and second set of molecules. Furthermore, it has a lower average atom charge difference for every parameterised molecule as well, with average differences of $0.054$ for the smaller molecules, and $0.146$ for the bigger ones. This means that the hypothesis that the consuming version will yield better results than the producing one does hold as well.

The final information that can be gathered from the user action log is the number of actions that needed to be undone, and the total number of clicks that needed to be made to complete the parameterisations. As was described in \secref{res_other}, the consuming version required almost no undo commands, while the producing version required the use of many. Furthermore, the total number of clicks was also smaller for the consuming version, making this the better version in those two aspects.

Besides the action logs, the \verb|SUS| ratings of the two versions of the system are also very important. As discussed in \secref{res_sus}, the consuming version scored higher than or equal to the producing version for all but one statement. Additionally, with a total \verb|SUS| score of $76$, it not only had a higher score than the producing variant, but was also graded far above average, and `good'.

The comments that user studies participants made on the producing version were less positive than those made on the consuming version. This also showed in their preference verdict, where all participants voted for the consuming version, rather than the producing variant~(see \secref{res_preference}). Most of them commented they strongly preferred that version.

Combining all of this data, we can validate this project's main hypothesis, which states:
\begin{quote}
For a tool used for fragment-based molecule parameterisation, it is better for users to have full, manual control, than to automate certain parts.
\end{quote}
As the non-automated consuming version gives better results, and is rated better by its users than the producing design, it is clear that this hypothesis holds. Even though it takes slightly more time to complete a parameterisation in that version, it still is reasonably fast. However, it may not be considered the perfect interaction design yet. Many suggestions on how it could be improved have been made~(see \secref{res_suggestions}), resulting in some future work which will be discussed later in this chapter.



\section{Threats to validity}
As in every research project, there are always a few threats to the validity of its outcomes. For the conclusions on the interaction designs for \oframp, this is no different. Most important here is the limited number of participants in the user studies. Due to the limited amount of people currently involved in manual molecule parameterisation, and the limited amount of time in which they had to complete the experiment~(one week), only 10 people were able to partake. However, it has been shown that a sample size of only 10 people leads to a correct \verb|SUS| conclusion $80\%$ of the time~\cite{tullis2004comparison}. Additionally, when a system is used by comparable users in similar ways, $85\%$ of its problems are generally found~\cite{nielsen2000you}.

This limited amount of experiment participants also lead to the decision that every user would have to test both versions of the system. While this is not a bad thing in general, it would have been preferred to do a double-blind test to make sure users were not primed by the first version they used. It has been attempted to mitigate this risk by dividing the participants over two groups, where both would use the systems in a different order, but this does not rule out any effect it may have had on the results.

The fact that users had to test both versions of the system unfortunately also doubled the time they needed to complete the experiment. Even though all parameterisations were completed in under 10 minutes on average, users also had to complete two different demo modes and fill in three questionnaires. This brings the total time for the average user to around 45 minutes, where, in extreme cases, users took far over an hour from loading the first version to submitting the final questionnaire. This may potentially have lead to loss of concentration, and might have incited users to take shortcuts in the parameterisation process, although this has not explicitly been observed.

By organising the user studies over the internet, there has been no control of the environment in which the participants performed the experiment. Although the users were instructed to make a large time slot available for it, and asked to try to focus on it as much as they could, it may be possible that they got interrupted at certain points, or used the system in a busy environment. This, unfortunately, is one of the insuperable side-effects of conducting an on-line user study.

Another possible threat to the validity of the results is the choice of molecules for the user study. For the experiment, four molecules (two small, two large) were randomly selected from the \verb|ATB|. It is unknown whether these were good example molecules or not, as they may have some special properties. furthermore, similar molecules may not exist at all.

Additionally, as commented by many users, the fragment finding system is not perfect yet. It does sometimes find matches that do not make a lot of sense from a chemistry perspective, and the rating system needs to be improved such that the best available matches will in fact also be the highest rated. Even though the development of the fragment finding system was outside of the scope of this project, it can still have had some influence on the outcomes.

In order to find a good interaction design for a fragment-based molecule parameterisation system, two different designs have been implemented and compared. Although there was a strong preference for the consuming version, it may be the case that a third, completely different system would be even better. However, even though the users had many suggestions on how the system could be improved further, none of these suggestions was really ground-breaking from the interaction design point of view. This does not rule out the possibility of the existence of an even better version, but does reduce the chances for it.

Finally, an unfortunate implementation/design error in the system that stored the user comments lead to the loss of the comments of two users. Although their \verb|SUS| ratings did not really deviate from the others, it may be the case that they made some different comments, or actually picked the producing version as their preferred one. Sadly, there is no way to recover these comments, but the similarity of the \verb|SUS| results suggests that there was no big difference of these users' opinion.



\section{Future work}
Thanks to the large amount of suggestions for improvement~(see \secref{res_suggestions}), \oframp{} can be developed further to enhance the user experience. First of all, as this was the most requested feature, the total molecule charge should be shown at a place where it is always visible, along with the charge effect of the previewed fragment, when there is one.

Second, some thought should be put into the location of the atom charge edit fields. As many users commented they wanted to see this added, it needs to be positioned at a more prominent position. Alternatively, manually editing atom charges may be added to the demo, or more emphasis could be put on the current location.

The third most suggested alternation is the possibility to automatically select atoms in the consuming version. As some users also commented they really liked the fact that they had full control over which part of the molecule was parameterised at which time, a toggleable auto-select system should be built into the tool. This will satisfy the needs of both groups of users.

Additionally, the remainder of the suggestions listed in \secref{res_suggestions} should be added to \oframp{} as well. They have all been examined, and it is believed that they can improve the user experience, without hurting it in any way.

As soon as the previously listed modifications have been implemented, a new, small user study should be conducted to confirm that these changes truly increase the value of \oframp. Additional user studies will also help to support the earlier made claims about the fragment-based molecule parameterisation system in general. With a larger sample size, the obtained results will have a higher confidence ratio, reducing the chances for false conclusions.

Finally, although that is technically outside the scope of this project, the fragment finding and rating system needs to be improved. Even when the interface for the fragment-based molecule parameterisation system would be perfect, the system would be useless if the found fragments are of a low quality. Luckily, the fragments are already acceptable, and there are ideas on how the matching system can be improved further. Once it has been updated, it needs to be reintegrated with \oframp, but, unless the protocol changes, that should be trivial.
